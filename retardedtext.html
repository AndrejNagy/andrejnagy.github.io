<html>
    <body>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
        <script>
            jQuery(document).ready(function(){
                var $textareas = jQuery('textarea');

                // store init (default) state   
                $textareas.data('x', $textareas.outerWidth());
                $textareas.data('y', $textareas.outerHeight()); 

                $textareas.mouseup(function(){
                var $this = jQuery(this);

                if (  $this.outerWidth()  != $this.data('x') 
                    || $this.outerHeight() != $this.data('y') )
                {
                    // Resize Action Here  
                    $('textarea').height($this.outerHeight());
                    $('textarea').width($this.outerWidth());
                }

                // store new height/width
                $this.data('x', $this.outerWidth());
                $this.data('y', $this.outerHeight()); 
                });

            });
            function generateRetardedText() {
                var retarded_input = document.getElementById("retarded_input")
                var retarded_button = document.getElementById("retarded_button")
                var retarded_output = document.getElementById("retarded_output")
                var regular_value = retarded_input.value;
                var retarded_value = "";
                var last_change = true;
                var number_of_same_changes = 1;
                for (var i = 0; i < regular_value.length; i++){
                    if (number_of_same_changes >= 3){
                        if (last_change){retarded_value = retarded_value + regular_value[i].toLowerCase(); number_of_same_changes=1;}
                        else {retarded_value = retarded_value + regular_value[i].toUpperCase(); number_of_same_changes=1;}
                    }
                    else {
                        if (Math.round(Math.random())){
                            if (last_change){number_of_same_changes++;} else {number_of_same_changes=1;}
                            retarded_value = retarded_value + regular_value[i].toUpperCase();
                            last_change = true
                        }
                        else {
                            if (!last_change){number_of_same_changes++;} else {number_of_same_changes=1;}
                            retarded_value = retarded_value + regular_value[i].toLowerCase();
                            last_change = false
                        }
                    }
                }
                retarded_output.textContent = retarded_value
            }
            </script>
        <textarea style="resize:both;" type="text" id="retarded_input"></textarea><button onclick="generateRetardedText();"id="retarded_button">Generate retarded text</button><br/>
        <textarea id="retarded_output"></textarea>
    </body>
</html>
